{% extends "experimenter_base.html" %}

{% block title %}
  History
{% endblock %}

{% block content %}
    <h1>Changes Overview</h1>
    <p>Experiment Slug: {{ experiment.slug }}</p>
    {% for changelog in experiment.get_changelogs %}
    <div>
        <h2>{{ changelog.date }}</h2>
        {% for change in changelog.changes %}
        <div>
          {% if change.event == "GENERAL" %}
            <p>Change Log: {{ change.changed_by}} changed the value of {{ change.field }} from {{ change.old_value }} to {{ change.new_value}}</p>  
          {% elif change.event == "CREATION" %}
            <p>Change Log: {{ change.changed_by}} created this experiment</p>  
          {% endif %}
          <p>Changed at: {{ change.timestamp }}</p>
        </div>
        {% endfor %}
    </div>
  {% endfor %}
{% endblock %}
